// ConsoleApplication1.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include <string.h>
#include <stdlib.h>
#include <stdio.h>
void check(int* _cookie, int _cookie2);
int* p_cookie;

int main(int argc, char *argv[])
{

		char buf2[100];
		int cookie2 = 0;
		int cookie = 0;
		char buf[50];
		


		if (argc != 2) { exit(1); }
		p_cookie = &cookie;

		printf("buf: %08x cookie: %08x cookie2: %08x\n", (unsigned int)&buf, (unsigned int)&cookie, (unsigned int)&cookie2);

		strncpy(buf2, argv[0], 60);
		strncpy(buf,argv[1],160);

		check(p_cookie, cookie2);
		printf("cookie %08x \n", (unsigned int)cookie);
		if (cookie == 0x35224158) {
			printf("You win man\n");
		}
		else {
			printf("You lose man \n");
		}
		
		exit(1);
	
}

	void check(int* _cookie, int _cookie2)
	{
		if (*_cookie == 0x71725553)
		{
			*_cookie += _cookie2;
		
		}
		return;

	}


   

